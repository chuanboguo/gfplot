<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Get early IPHC data from already-saved .rds files (can likely integrate into get-dat.R) — get_early_iphc • gfplot</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Get early IPHC data from already-saved .rds files (can likely integrate into get-dat.R) — get_early_iphc" />

<meta property="og:description" content="Gets the early IPHC data from .rds files for the species in question.
Those data are not all in GFBio.
Use the gfplot species common name to extract IPHC data.
For set-level data the counts are not in GFbio but in data/. When
getting a new dataset for which we do not have hook level data
then run this to check that all IPHC names have a GFbio name.
Details The IPHC report for 1996 mentions 120 stations and does not use the
ones off WCVI that are 'RS' (random sample?) and not in the
same pattern as the 'SG' (Setline Grid) stations. Here using the SG
ones only (the RS ones are saved as setData1995rs and countData1995rs).
Details
Note that 1996 is based on all hooks being enumerated while
1997-2002 is for first 20 only.
Details" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gfplot</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/pbs-assess/gfplot">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get early IPHC data from already-saved .rds files (can likely integrate into get-dat.R)</h1>
    <small class="dont-index">Source: <a href='https://github.com/pbs-assess/gfplot/blob/master/R/get-early-iphc.R'><code>R/get-early-iphc.R</code></a></small>
    <div class="hidden name"><code>get_early_iphc.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Gets the early IPHC data from .rds files for the species in question.
Those data are not all in GFBio.</p>
<p>Use the gfplot species common name to extract IPHC data.</p>
<p>For set-level data the counts are not in GFbio but in data/. When
getting a new dataset for which we do not have hook level data
then run this to check that all IPHC names have a GFbio name.</p>
<p>Details The IPHC report for 1996 mentions 120 stations and does not use the
ones off WCVI that are 'RS' (random sample?) and not in the
same pattern as the 'SG' (Setline Grid) stations. Here using the SG
ones only (the RS ones are saved as setData1995rs and countData1995rs).</p>
<p>Details
Note that 1996 is based on all hooks being enumerated while
1997-2002 is for first 20 only.</p>
<p>Details</p>
    
    </div>

    <pre class="usage"><span class='fu'>get_iphc_spp_name</span>(<span class='kw'>species</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='fu'>check_iphc_spp_name</span>(<span class='kw'>countData</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>ignore_obvious</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'>get_iphc_1995</span>(<span class='no'>species</span>)

<span class='fu'>get_iphc_1996to2002</span>(<span class='no'>species</span>)

<span class='fu'>get_iphc_2013</span>(<span class='no'>species</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>species</th>
      <td><p>Species common name (as used by gfplot). If NULL then
get_iphc_spp_name returns the full data frame of names (iphc-spp-names-csv).</p></td>
    </tr>
    <tr>
      <th>countData</th>
      <td><p>A new IPHC dataset to check all species names against, if
NULL then returns all IPHC names in the saved set-level data that are not
in our list of Type A or Type B species given in gfsynopsis.</p></td>
    </tr>
    <tr>
      <th>ignore_obvious</th>
      <td><p>Whether or not to ignore some obvious non-groundfish
species (listed in function) when countData is NULL.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>IPHC species common name, or NA if species is not in IPHC data
(**need to add more years of species names if they start showing up), or
if species is NULL
then a data.frame of all species names (the file iphc-spp-names.csv).</p>
<p>IPHC species common names in countData (or if NULL IPHC species names
in saved set-level IPHC data that are not in iphc-spp-names.csv).</p>
<p>Tibble contains year (1995), station name, lat, lon,
E_it (effective skate number for that station, based on all
hooks),
N_it (number of 'species' caught on all hooks),
C_it (catch rate of 'species' as number per effective skate,
based on all hooks),
E_it20 (effective skate number for that station, based on first
20 hooks, so NA for 1995),
N_it20 (number of 'species' caught in first 20 hooks, so NA for
1995),
C_it20 (catch rate of 'species' as number per effective skate,
based on the first 20 hooks, so NA for 1995),
usable (whether or not that station is usable, as deemed by IPHC),</p>
<p>If no data at all on that species then C_it and N_it are NA's.</p>
<p>Tibble contains year, station name, lat, lon,
E_it (effective skate number for that station, based on all
hooks, so NA for 1997-2002),
N_it (number of 'species' caught on all hooks, so NA for 1997-2002),
C_it (catch rate of 'species' as number per effective skate,
based on all hooks, so NA for 1997-2002),
E_it20 (effective skate number for that station, based on first
20 hooks, so NA for 1996),
N_it20 (number of 'species' caught in first 20 hooks, so NA for
1996),
C_it20 (catch rate of 'species' as number per effective skate,
based on the first 20 hooks, so NA for 1996),
usable (whether or not that station is usable, as deemed by IPHC),</p>
<p>If no data on that species then C_it and N_it are NA's.</p>
<p>Tibble contains year (2013), station name, lat, lon,
E_it (effective skate number for that station, based on all
hooks, so NA for 2013),
N_it (number of 'species' caught on all hooks, so NA for 2013),
C_it (catch rate of 'species' as number per effective skate,
based on all hooks, so NA for 2013),
E_it20 (effective skate number for that station, based on first
20 hooks),
N_it20 (number of 'species' caught in first 20 hooks),
C_it20 (catch rate of 'species' as number per effective skate,
based on the first 20 hooks),
usable (whether or not that station is usable, as deemed by IPHC),</p>
<p>If no data at all on that species then C_it and N_it are NA's.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The output datasets feed into IPHC-specific functions to create a time-series.
**.....other functions (<code>tidy_</code>,
<code>plot_</code>, or <code>fit_</code> functions) for data visualization, which can be used as
products themselves or can be fed into automated DFO Pacific groundfish data
synopsis report production.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='fu'>get_iphc_spp_name</span>(<span class='st'>"redbanded rockfish"</span>)
<span class='fu'>get_iphc_spp_name</span>(<span class='st'>"made up name"</span>)
<span class='kw pkg'>testthat</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/testthat/topics/output-expectations'>expect_error</a></span>(<span class='fu'>get_iphc_spp_name</span>(<span class='fu'>c</span>(<span class='st'>"redbanded rockfish"</span>, <span class='st'>"yellowmouth rockfish"</span>)))
<span class='co'># }</span><span class='co'># NOT RUN {</span>
<span class='fu'>check_iphc_spp_name</span>()              <span class='co'># All the IPHC names not in</span>
                                   <span class='co'>#  iphc-spp-names.csv</span>
<span class='fu'>check_iphc_spp_name</span>(<span class='no'>countData2013</span>) <span class='co'># All the 2013 IPHC names not in</span>
                                   <span class='co'>#  iphc-spp-names.csv</span>
<span class='co'># }</span><span class='co'># NOT RUN {</span>
<span class='no'>yyr1995</span> <span class='kw'>&lt;-</span> <span class='fu'>get_iphc_1995</span>(<span class='st'>"yelloweye rockfish"</span>)
<span class='fu'>summary</span>(<span class='no'>yyr1995</span>)
<span class='co'># }</span><div class='input'>
</div><span class='co'># NOT RUN {</span>
<span class='no'>yyr1996to2002</span> <span class='kw'>&lt;-</span> <span class='fu'>get_iphc_1996to2002</span>(<span class='st'>"yelloweye rockfish"</span>)
<span class='fu'>summary</span>(<span class='no'>yyr1996to2002</span>)
<span class='kw pkg'>dplyr</span><span class='kw ns'>::</span><span class='fu'><a href='http://dplyr.tidyverse.org/reference/summarise.html'>summarise</a></span>(<span class='fu'>group_by</span>(<span class='no'>yyr1996to2002</span>, <span class='no'>year</span>, <span class='kw'>num.stations</span> <span class='kw'>=</span> <span class='fu'>n</span>()))
<span class='co'># number of stations in each year.</span>
<span class='co'># }</span><div class='input'>
</div><span class='co'># NOT RUN {</span>
<span class='no'>yyr2013</span> <span class='kw'>&lt;-</span> <span class='fu'>get_iphc_2013</span>(<span class='st'>"yelloweye rockfish"</span>)
<span class='fu'>summary</span>(<span class='no'>yyr2013</span><span class='kw'>[[</span><span class='st'>"setVals2013"</span>]])
<span class='co'># }</span><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Sean C. Anderson, Elise A. Keppel, Andrew M. Edwards, Chris Grandin.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

